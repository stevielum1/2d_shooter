{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./js/enemy_bullet.js","webpack:///./js/entry.js","webpack:///./js/game.js","webpack:///./js/game_view.js","webpack:///./js/ground_enemy.js","webpack:///./js/player.js","webpack:///./js/player_bullet.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,kDAA0C,gCAAgC;AAC1E;AACA;;AAEA;AACA;AACA;AACA,gEAAwD,kBAAkB;AAC1E;AACA,yDAAiD,cAAc;AAC/D;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAyC,iCAAiC;AAC1E,wHAAgH,mBAAmB,EAAE;AACrI;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;;AAGA;AACA;;;;;;;;;;;;AClFA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,KAAK;AACL;AACA;AACA,OAAO;AACP;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;AC/CA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,GAAG;;AAEH,CAAC;;;;;;;;;;;;ACfD;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,mBAAmB,QAAQ;AAC3B;AACA;AACA;;AAEA;AACA,kBAAkB,QAAQ;AAC1B;AACA;AACA;AACA;;AAEA;AACA;;AAEA,mBAAmB,QAAQ;AAC3B;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;ACvIA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,KAAK;AACL;;AAEA;;AAEA;;;;;;;;;;;;ACzFA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,KAAK;AACL;AACA;AACA,OAAO;AACP;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;ACrFA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,WAAW;AACX;AACA;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA,WAAW;AACX;AACA;AACA,SAAS;AACT;AACA;AACA,WAAW;AACX;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;ACrKA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./js/entry.js\");\n","class EnemyBullet {\n  constructor(game) {\n    this.game = game;\n    this.pos = [-10, -10];\n    this.vel = [0, 0];\n    this.radius = 3;\n  }\n\n  shoot(enemy) {\n    this.pos[0] = enemy.pos[0] + 15;\n    this.pos[1] = enemy.pos[1] + 15;\n    this.vel[0] = enemy.vel[0] * 2;\n  }\n\n  move() {\n    if (this.game.moving === \"left\") {\n      if (this.vel[0] > 0) {\n        this.pos[0] = this.pos[0] + this.vel[0] * 1.5;\n      } else {\n        this.pos[0] = this.pos[0] + this.vel[0] * 0.5;\n      }\n    } else if (this.game.moving === \"right\") {\n      if (this.vel[0] > 0) {\n        this.pos[0] = this.pos[0] + this.vel[0] * 0.5;\n      } else {\n        this.pos[0] = this.pos[0] + this.vel[0] * 1.5;\n      }\n    } else {\n      this.pos[0] += this.vel[0];\n      this.pos[1] += this.vel[1];\n    }\n\n    if (this.pos[0] >= 1005 || this.pos[0] <= -10) {\n      this.pos[0] = -10;\n      this.vel = [0, 0];\n    }\n  }\n\n  draw(ctx) {\n    ctx.beginPath();\n    ctx.arc(this.pos[0], this.pos[1], this.radius, 0, Math.PI * 2);\n    ctx.fillStyle = \"red\";\n    ctx.fill();\n    ctx.closePath();\n  }\n}\n\nmodule.exports = EnemyBullet;\n","const GameView = require('./game_view.js');\n\nconsole.log(\"game works\");\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  const canvas = document.getElementById(\"myCanvas\");\n  const ctx = canvas.getContext(\"2d\");\n\n  const gameView = new GameView(ctx);\n  gameView.start();\n\n  canvas.addEventListener(\"mousemove\", e => {\n    gameView.game.player.updateAngle(e);\n  });\n\n});\n","const Player = require('./player.js');\nconst PlayerBullet = require('./player_bullet.js');\nconst GroundEnemy = require('./ground_enemy.js');\nconst EnemyBullet = require('./enemy_bullet.js');\n\nconst BUFFER = 100;\n\nclass Game {\n  constructor() {\n    this.player = new Player();\n    this.initBullets();\n    this.currentBullet = 0;\n    this.currentEnemyBullet = 0;\n    this.scrollX = 0;\n    this.initEnemies();\n    this.enemyBuffer = 0;\n    this.enemyShootBuffer = 0;\n    this.moving = \"\";\n  }\n\n  initBullets() {\n    this.playerBullets = [];\n    for (let i = 0; i < 10; i++) {\n      const bullet = new PlayerBullet(this.player);\n      this.playerBullets.push(bullet);\n    }\n\n    this.enemyBullets = [];\n    for(let i = 0; i < 50; i++) {\n      const bullet = new EnemyBullet(this);\n      this.enemyBullets.push(bullet);\n    }\n  }\n\n  initEnemies() {\n    this.enemies = [];\n\n    for (let i = 0; i < 20; i++) {\n      const from = Math.random() < 0.5 ? \"left\" : \"right\";\n      const enemy = new GroundEnemy({\n        from,\n        speed: 0,\n        game: this\n      });\n      this.enemies.push(enemy);\n    }\n  }\n\n  draw(ctx) {\n    ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);\n    this.drawBackground(ctx);\n    this.allObjects().forEach(obj => {\n      obj.draw(ctx);\n    });\n  }\n\n  drawBackground(ctx) {\n    const background = document.getElementById(\"background\");\n    ctx.drawImage(background, ctx.canvas.width-this.scrollX, 0, this.scrollX, ctx.canvas.height, 0, 0, this.scrollX, ctx.canvas.height);\n    ctx.drawImage(background, this.scrollX, 0, ctx.canvas.width, ctx.canvas.height);\n  }\n\n  updateScrollX(key) {\n    if (key === \"left\") {\n      this.scrollX += 3;\n      if (this.scrollX >= 1000) this.scrollX = 0;\n    } else if (key === \"right\") {\n      this.scrollX -= 3;\n      if (this.scrollX <= 0) this.scrollX = 1000;\n    }\n  }\n\n  move() {\n    this.playerBullets.forEach(pBullet => {\n      pBullet.move();\n    });\n    this.enemies.forEach(enemy => {\n      enemy.move();\n    });\n    this.enemyBullets.forEach(eBullet => {\n      eBullet.move();\n    });\n  }\n\n  checkCollisions() {\n    this.enemyBullets.forEach(eBullet => {\n      this.player.collideWith(eBullet);\n    });\n\n    this.enemies.forEach(enemy => {\n      this.player.collideWith(enemy);\n\n      this.playerBullets.forEach(pBullet => {\n        enemy.collideWith(pBullet);\n        if (enemy.health <= 0) {\n          this.removeEnemy(enemy);\n        }\n      });\n    });\n  }\n\n  randomEnemyShoot() {\n    if (this.enemyShootBuffer === 7) {\n      const idx = Math.floor(Math.random() * this.enemies.length);\n      const enemy = this.enemies[idx];\n      this.enemyBullets[this.currentEnemyBullet].shoot(enemy);\n      this.currentEnemyBullet = (this.currentEnemyBullet + 1) % 50;\n    }\n    this.enemyShootBuffer = (this.enemyShootBuffer + 1) % BUFFER;\n  }\n\n  spawnEnemy() {\n    if (this.enemyBuffer === 0) {\n      const idx = Math.floor(Math.random() * this.enemies.length);\n      this.enemies[idx].updateSpeed(Math.floor(Math.random() * 4) + 1);\n    }\n    this.enemyBuffer = (this.enemyBuffer + 1) % BUFFER;\n  }\n\n  removeEnemy(enemy) {\n    const idx = this.enemies.indexOf(enemy);\n    this.enemies[idx].updateSpeed(0);\n    this.enemies[idx].updatePos();\n  }\n\n  allObjects() {\n    return this.playerBullets.concat(this.enemies).concat([this.player]).concat(this.enemyBullets);\n  }\n\n  shoot() {\n    this.playerBullets[this.currentBullet].shoot();\n    this.currentBullet = (this.currentBullet + 1) % this.playerBullets.length;\n  }\n}\n\nmodule.exports = Game;\n","const Game = require(\"./game.js\");\n\nclass GameView {\n  constructor(ctx) {\n    this.ctx = ctx;\n    this.game = new Game();\n    this.keydown = \"\";\n  }\n\n  start() {\n    this.bindKeyHandlers();\n    requestAnimationFrame(this.step.bind(this));\n  }\n\n  step() {\n    this.game.updateScrollX(this.keydown);\n    this.game.draw(this.ctx);\n    this.game.move();\n    this.game.checkCollisions();\n    this.game.randomEnemyShoot();\n    this.game.spawnEnemy();\n    this.updateHealth();\n    requestAnimationFrame(this.step.bind(this));\n  }\n\n  updateHealth() {\n    const health = document.getElementById(\"health\");\n    if (this.game.player.health <= 0) {\n      health.innerText = \"Health: \" + 0;\n    } else {\n      health.innerText = \"Health: \" + this.game.player.health;\n    }\n  }\n\n  bindKeyHandlers() {\n    key('space', () => {\n      if (this.game.player.dead === false) this.game.shoot();\n    });\n    key('a', () => {\n      if (this.game.player.dead === false) {\n        this.keydown = \"left\";\n        this.game.player.sprite = \"run\";\n        this.game.moving = \"left\";\n      }\n    });\n    key('d', () => {\n      if (this.game.player.dead === false) {\n        this.keydown = \"right\";\n        this.game.player.sprite = \"run\";\n        this.game.moving = \"right\";\n      }\n    });\n    key('w', () => {\n      if (this.game.player.dead === false) {\n        this.game.player.updateJump();\n      }\n    });\n    window.addEventListener(\"keyup\", e => {\n      if (this.game.player.dead === false) {\n        switch(e.which) {\n          case 65:\n          if (this.keydown !== \"right\") {\n            this.keydown = \"\";\n            this.game.moving = \"\";\n            if (this.game.player.jumping === false) {\n              this.game.player.sprite = \"stand\";\n            }\n          }\n          break;\n          case 68:\n          if (this.keydown !== \"left\") {\n            this.keydown = \"\";\n            this.game.moving = \"\";\n            if (this.game.player.jumping === false) {\n              this.game.player.sprite = \"stand\";\n            }\n          }\n          break;\n          default:\n          break;\n        }\n      } else {\n        this.keydown = \"\";\n      }\n    });\n  }\n\n}\n\nmodule.exports = GameView;\n","const PlayerBullet = require('./player_bullet.js');\n\nconst RUNNING_RIGHT = [[819,9,32,39],[858,8,27,40],[890,9,34,39]];\nconst RUNNING_LEFT = [[699,9,32,39],[665,8,27,40],[626,9,34,39]];\nconst BUFFER = 10;\n\n//vel, health, position as OPTIONS\n\nclass GroundEnemy {\n  constructor(options) {\n    this.game = options.game;\n    this.health = 2;\n    this.from = options.from;\n    this.pos = [0,0];\n    this.updatePos();\n    this.vel = [0,0];\n    this.width = 32;\n    this.height = 40;\n    this.currentSprite = 0;\n    this.buffer = 0;\n  }\n\n  draw(ctx) {\n    const groundEnemies = document.getElementById(\"contra3GroundEnemies\");\n\n    if (this.vel[0] >= 0) {\n      ctx.drawImage(groundEnemies, RUNNING_RIGHT[this.currentSprite][0], RUNNING_RIGHT[this.currentSprite][1], RUNNING_RIGHT[this.currentSprite][2], RUNNING_RIGHT[this.currentSprite][3], this.pos[0], this.pos[1], RUNNING_RIGHT[this.currentSprite][2], RUNNING_RIGHT[this.currentSprite][3]);\n    } else {\n      ctx.drawImage(groundEnemies, RUNNING_LEFT[this.currentSprite][0], RUNNING_LEFT[this.currentSprite][1], RUNNING_LEFT[this.currentSprite][2], RUNNING_LEFT[this.currentSprite][3], this.pos[0], this.pos[1], RUNNING_LEFT[this.currentSprite][2], RUNNING_LEFT[this.currentSprite][3]);\n    }\n\n    if (this.buffer < BUFFER) {\n      this.buffer += 1;\n    } else {\n      this.buffer = 0;\n      this.currentSprite = (this.currentSprite + 1) % 3;\n    }\n  }\n\n  move() {\n    if (this.game.moving === \"left\") {\n      if (this.vel[0] > 0) {\n        this.pos[0] = this.pos[0] + this.vel[0] * 1.5;\n      } else {\n        this.pos[0] = this.pos[0] + this.vel[0] * 0.5;\n      }\n    } else if (this.game.moving === \"right\") {\n      if (this.vel[0] > 0) {\n        this.pos[0] = this.pos[0] + this.vel[0] * 0.5;\n      } else {\n        this.pos[0] = this.pos[0] + this.vel[0] * 1.5;\n      }\n    } else {\n      this.pos[0] += this.vel[0];\n    }\n    if (this.pos[0] > 1005) {\n      this.pos[0] = -5;\n    }\n    if (this.pos[0] < -5) {\n      this.pos[0] = 1005;\n    }\n  }\n\n  updateSpeed(speed) {\n    this.vel = this.from === \"left\" ? [-speed, 0] : [speed, 0];\n  }\n\n  updatePos() {\n    this.pos = this.from === \"left\" ? [-30, 450] : [1005, 450];\n  }\n\n  collideWith(object) {\n    if (object instanceof PlayerBullet) {\n      if (object.pos[0] < this.pos[0] + this.width &&\n          object.pos[0] + object.radius > this.pos[0] &&\n          object.pos[1] < this.pos[1] + this.height &&\n          object.pos[1] + object.radius > this.pos[1]) {\n            this.health -= 1;\n            object.pos = [-10,-10];\n            object.vel = [0,0];\n      }\n    }\n  }\n}\n\nmodule.exports = GroundEnemy;\n","const EnemyBullet = require('./enemy_bullet.js');\nconst GroundEnemy = require('./ground_enemy.js');\n\nconst RUNNING_RIGHT = [[7,82,30,39],[44,82,29,39], [78,82,34,40],[118,83,29,39]];\nconst RUNNING_LEFT = [[496,82,32,39],[462,82,29,39], [423,82,34,40],[388,83,29,39]];\nconst RUNNING_UPRIGHT = [[8,171,28,48],[47,171,23,48],[71,171,29,48],[107,173,24,48]];\nconst RUNNING_DOWNRIGHT = [[11,226,27,42],[47,226,26,42],[78,226,27,43],[116,227,26,42]];\nconst RUNNING_UPLEFT = [[497,171,28,48],[465,171,23,48],[435,171,29,48],[404,173,24,48]];\nconst RUNNING_DOWNLEFT = [[495,226,29,42],[462,226,27,42],[428,226,28,43],[393,227,26,42]];\nconst JUMPING_RIGHT = [[2,50,24,20],[30,49,20,24],[59,49,24,20],[93,48,20,24]];\nconst JUMPING_LEFT = [[509,50,24,20],[485,49,20,24],[452,49,24,20],[422,48,20,24]];\nconst DEAD_RIGHT = [[110,278,30,41],[16,291,32,27],[55,280,48,42]];\nconst DEAD_LEFT = [[395,278,30,41],[487,291,32,27],[432,280,48,42]];\n\nconst BUFFER = 10;\n\nclass Player {\n\n  constructor() {\n    this.health = 100;\n    this.pos = [500, 450];\n    this.angle = 0;\n    this.width = 30;\n    this.height = 40;\n    this.sprite = \"stand\";\n    this.face = \"right\";\n    this.jumping = false;\n    this.dead = false;\n    this.vel = [0,0];\n    this.currentSprite = 0;\n    this.buffer = 0;\n  }\n\n  updateAngle(e) {\n    const xDist = e.pageX - (this.pos[0] + 15);\n    const yDist = e.pageY - (this.pos[1] + 15);\n    this.angle = Math.atan2(yDist, xDist);\n    if (-1.5 < this.angle && this.angle < 1.5) {\n      this.face = \"right\";\n    } else {\n      this.face = \"left\";\n    }\n  }\n\n  updateJump() {\n    if (this.jumping) {\n      this.vel[1] += 0.1;\n      this.pos[1] += this.vel[1];\n      if (this.pos[1] >= 450) {\n        this.pos[1] = 450;\n        this.vel = [0,0];\n        this.jumping = false;\n        this.sprite = \"run\";\n      }\n    } else {\n      this.jumping = true;\n      this.vel[1] = -5;\n      this.pos[1] += this.vel[1];\n    }\n  }\n\n  collideWith(object) {\n    if (object instanceof GroundEnemy) {\n      if (object.pos[0] < this.pos[0] + this.width &&\n          object.pos[0] + object.width > this.pos[0] &&\n          object.pos[1] < this.pos[1] + this.height &&\n          object.pos[1] + object.width > this.pos[1]) {\n            this.health -= 100;\n          }\n    } else if (object instanceof EnemyBullet) {\n      if (object.pos[0] < this.pos[0] + this.width &&\n          object.pos[0] + object.radius > this.pos[0] &&\n          object.pos[1] < this.pos[1] + this.height &&\n          object.pos[1] + object.radius > this.pos[1]) {\n            this.health -= 10;\n            object.pos = [-10, -10];\n            object.vel = [0, 0];\n          }\n    }\n    if (this.health <= 0 && this.sprite !== \"dead\") {\n      this.currentSprite = 0;\n      this.dead = true;\n      this.sprite = \"dead\";\n    }\n  }\n\n  draw(ctx) {\n    const contra3 = document.getElementById(\"contra3\");\n    if (this.jumping) {\n      this.updateJump();\n    }\n    switch(this.sprite) {\n      case \"run\":\n        if (this.face === \"right\") {\n          if (this.jumping) {\n            ctx.drawImage(contra3, JUMPING_RIGHT[this.currentSprite][0], JUMPING_RIGHT[this.currentSprite][1], JUMPING_RIGHT[this.currentSprite][2], JUMPING_RIGHT[this.currentSprite][3], this.pos[0], this.pos[1], JUMPING_RIGHT[this.currentSprite][2], JUMPING_RIGHT[this.currentSprite][3]);\n          } else {\n            if (-1.55 < this.angle && this.angle < -0.25) {\n              ctx.drawImage(contra3, RUNNING_UPRIGHT[this.currentSprite][0], RUNNING_UPRIGHT[this.currentSprite][1], RUNNING_UPRIGHT[this.currentSprite][2], RUNNING_UPRIGHT[this.currentSprite][3], this.pos[0], this.pos[1], RUNNING_UPRIGHT[this.currentSprite][2], RUNNING_UPRIGHT[this.currentSprite][3]);\n            } else if (0.35 < this.angle && this.angle < 1.5) {\n              ctx.drawImage(contra3, RUNNING_DOWNRIGHT[this.currentSprite][0], RUNNING_DOWNRIGHT[this.currentSprite][1], RUNNING_DOWNRIGHT[this.currentSprite][2], RUNNING_DOWNRIGHT[this.currentSprite][3], this.pos[0], this.pos[1], RUNNING_DOWNRIGHT[this.currentSprite][2], RUNNING_DOWNRIGHT[this.currentSprite][3]);\n            } else {\n              ctx.drawImage(contra3, RUNNING_RIGHT[this.currentSprite][0], RUNNING_RIGHT[this.currentSprite][1], RUNNING_RIGHT[this.currentSprite][2], RUNNING_RIGHT[this.currentSprite][3], this.pos[0], this.pos[1], RUNNING_RIGHT[this.currentSprite][2], RUNNING_RIGHT[this.currentSprite][3]);\n            }\n          }\n        } else {\n          if (this.jumping) {\n            ctx.drawImage(contra3, JUMPING_LEFT[this.currentSprite][0], JUMPING_LEFT[this.currentSprite][1], JUMPING_LEFT[this.currentSprite][2], JUMPING_LEFT[this.currentSprite][3], this.pos[0], this.pos[1], JUMPING_LEFT[this.currentSprite][2], JUMPING_LEFT[this.currentSprite][3]);\n          } else {\n            if (-2.9 < this.angle && this.angle < -1.5) {\n              ctx.drawImage(contra3, RUNNING_UPLEFT[this.currentSprite][0], RUNNING_UPLEFT[this.currentSprite][1], RUNNING_UPLEFT[this.currentSprite][2], RUNNING_UPLEFT[this.currentSprite][3], this.pos[0], this.pos[1], RUNNING_UPLEFT[this.currentSprite][2], RUNNING_UPLEFT[this.currentSprite][3]);\n            } else if (1.5 < this.angle && this.angle < 2.75) {\n              ctx.drawImage(contra3, RUNNING_DOWNLEFT[this.currentSprite][0], RUNNING_DOWNLEFT[this.currentSprite][1], RUNNING_DOWNLEFT[this.currentSprite][2], RUNNING_DOWNLEFT[this.currentSprite][3], this.pos[0], this.pos[1], RUNNING_DOWNLEFT[this.currentSprite][2], RUNNING_DOWNLEFT[this.currentSprite][3]);\n            } else {\n              ctx.drawImage(contra3, RUNNING_LEFT[this.currentSprite][0], RUNNING_LEFT[this.currentSprite][1], RUNNING_LEFT[this.currentSprite][2], RUNNING_LEFT[this.currentSprite][3], this.pos[0], this.pos[1], RUNNING_LEFT[this.currentSprite][2], RUNNING_LEFT[this.currentSprite][3]);\n            }\n          }\n        }\n        break;\n      case \"stand\":\n        if (this.face === \"right\") {\n          if (-1.5 < this.angle && this.angle < -0.25) {\n            ctx.drawImage(contra3, RUNNING_UPRIGHT[1][0], RUNNING_UPRIGHT[1][1], RUNNING_UPRIGHT[1][2], RUNNING_UPRIGHT[1][3], this.pos[0], this.pos[1], RUNNING_UPRIGHT[1][2], RUNNING_UPRIGHT[1][3]);\n          } else if (0.5 < this.angle && this.angle < 1) {\n            ctx.drawImage(contra3, RUNNING_DOWNRIGHT[1][0], RUNNING_DOWNRIGHT[1][1], RUNNING_DOWNRIGHT[1][2], RUNNING_DOWNRIGHT[1][3], this.pos[0], this.pos[1], RUNNING_DOWNRIGHT[1][2], RUNNING_DOWNRIGHT[1][3]);\n          } else {\n            ctx.drawImage(contra3, RUNNING_RIGHT[1][0], RUNNING_RIGHT[1][1], RUNNING_RIGHT[1][2], RUNNING_RIGHT[1][3], this.pos[0], this.pos[1], RUNNING_RIGHT[1][2], RUNNING_RIGHT[1][3]);\n          }\n        } else {\n          if (-3 < this.angle && this.angle < -1.55) {\n            ctx.drawImage(contra3, RUNNING_UPLEFT[1][0], RUNNING_UPLEFT[1][1], RUNNING_UPLEFT[1][2], RUNNING_UPLEFT[1][3], this.pos[0], this.pos[1], RUNNING_UPLEFT[1][2], RUNNING_UPLEFT[1][3]);\n          } else if (1.2 < this.angle && this.angle < 2) {\n            ctx.drawImage(contra3, RUNNING_DOWNLEFT[1][0], RUNNING_DOWNLEFT[1][1], RUNNING_DOWNLEFT[1][2], RUNNING_DOWNLEFT[1][3], this.pos[0], this.pos[1], RUNNING_DOWNLEFT[1][2], RUNNING_DOWNLEFT[1][3]);\n          } else {\n            ctx.drawImage(contra3, RUNNING_LEFT[1][0], RUNNING_LEFT[1][1], RUNNING_LEFT[1][2], RUNNING_LEFT[1][3], this.pos[0], this.pos[1], RUNNING_LEFT[1][2], RUNNING_LEFT[1][3]);\n          }\n        }\n        break;\n      case \"dead\":\n        if (this.face === \"right\") {\n          ctx.drawImage(contra3, DEAD_RIGHT[this.currentSprite][0], DEAD_RIGHT[this.currentSprite][1], DEAD_RIGHT[this.currentSprite][2], DEAD_RIGHT[this.currentSprite][3], this.pos[0], this.pos[1], DEAD_RIGHT[this.currentSprite][2], DEAD_RIGHT[this.currentSprite][3]);\n        }\n        if (this.face === \"left\") {\n          ctx.drawImage(contra3, DEAD_LEFT[this.currentSprite][0], DEAD_LEFT[this.currentSprite][1], DEAD_LEFT[this.currentSprite][2], DEAD_LEFT[this.currentSprite][3], this.pos[0], this.pos[1], DEAD_LEFT[this.currentSprite][2], DEAD_LEFT[this.currentSprite][3]);\n        }\n        break;\n      default:\n        break;\n    }\n\n    if (this.buffer < BUFFER) {\n      this.buffer += 1;\n    } else {\n      this.buffer = 0;\n      if (this.dead) {\n        if (this.currentSprite < 2) {\n          this.currentSprite = (this.currentSprite + 1) % 4;\n        }\n      } else {\n        this.currentSprite = (this.currentSprite + 1) % 4;\n      }\n    }\n  }\n}\n\nmodule.exports = Player;\n","class PlayerBullet {\n  constructor(player) {\n    this.player = player;\n    this.pos = [-10, -10];\n    this.vel = [0, 0];\n    this.radius = 3;\n  }\n\n  shoot() {\n    this.pos[0] = this.player.pos[0]+15;\n    this.pos[1] = this.player.pos[1]+15;\n    this.vel[0] = Math.cos(this.player.angle) * 10;\n    this.vel[1] = Math.sin(this.player.angle) * 10;\n  }\n\n  move() {\n    const xPos = this.pos[0] + this.vel[0];\n    const yPos = this.pos[1] + this.vel[1];\n    if (xPos > 1000 || xPos < 0) {\n      this.pos = [-10, -10];\n      this.vel = [0, 0];\n    } else if (yPos > 500 || yPos < 0) {\n      this.pos = [-10, -10];\n      this.vel = [0, 0];\n    } else {\n      this.pos[0] = xPos;\n      this.pos[1] = yPos;\n    }\n  }\n\n  draw(ctx) {\n    ctx.beginPath();\n    ctx.arc(this.pos[0], this.pos[1], this.radius, 0, Math.PI * 2);\n    ctx.fillStyle = \"black\";\n    ctx.fill();\n    ctx.closePath();\n  }\n}\n\nmodule.exports = PlayerBullet;\n"],"sourceRoot":""}